(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c0a5771"],{"07ce":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"background-color":"#f6f6f6","min-height":"100vh"}},[e("el-container",[e("el-header",[e("div",{staticClass:"header"},[e("div",{staticClass:"app-name"},[e("router-link",{attrs:{to:"/platform-admin"}},[t._v("Admin Management")])],1),e("span",{staticClass:"app-title"},[t._v("Adminï¼š"+t._s(t.admin.nickname))]),e("div",{staticClass:"app-logOut"},[e("el-button",{staticStyle:{"margin-right":"100px"},attrs:{type:"primary"},on:{click:t.logout}},[t._v("Log Out")])],1)])]),e("el-container",[e("div",{staticClass:"mainBody"},[e("el-aside",[e("el-col",{attrs:{span:24}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#ffffff","text-color":"#303133","active-text-color":"#409EFF"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"1"}},[e("i",{staticClass:"el-icon-goods"}),e("span",[t._v("Idle Management")])]),e("el-menu-item",{attrs:{index:"2"}},[e("i",{staticClass:"el-icon-s-goods"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("Order Management")])]),e("el-menu-item",{attrs:{index:"3"}},[e("i",{staticClass:"el-icon-s-custom"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("User Management")])])],1)],1)],1),e("el-main",[1==t.mode?e("IdleGoods"):t._e(),2==t.mode?e("orderList"):t._e(),3==t.mode?e("userList"):t._e()],1)],1)])],1),e("div",{staticClass:"foot"},[e("app-foot")],1)],1)},o=[],s=a("85a9"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-border"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"},on:{select:t.handleSelect}},[e("span",{staticClass:"app-title"},[e("el-input",{attrs:{placeholder:"Item name..."},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchIdle.apply(null,arguments)}},model:{value:t.findValue,callback:function(e){t.findValue=e},expression:"findValue"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchIdle},slot:"append"})],1)],1),e("el-menu-item",{attrs:{index:"1"},on:{click:function(e){t.status=1}}},[t._v("Activate Listings")]),e("el-menu-item",{attrs:{index:"2"},on:{click:function(e){t.status=2}}},[t._v("Inactivate Listings")])],1),1==this.mode?e("el-table",{staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.onlineGoods,stripe:""}},[e("el-table-column",{attrs:{prop:"releaseTime",label:"releaseTime",width:"200"}}),e("el-table-column",{attrs:{prop:"idleName",label:"itemName","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"user.nickname",label:"userName","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{prop:"idlePrice",label:"itemPrice","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{label:"operation"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.makeOfflineGoods(a.$index)}}},[t._v("Illegal Listings ")])]}}],null,!1,4139388019)})],1):t._e(),e("el-table",{directives:[{name:"show",rawName:"v-show",value:2==this.mode,expression:"this.mode == 2"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.OfflineGoods,stripe:""}},[e("el-table-column",{attrs:{prop:"releaseTime",label:"releaseTime",width:"200"}}),e("el-table-column",{attrs:{prop:"idleName",label:"itemName","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"user.nickname",label:"userName","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{prop:"idlePrice",label:"itemPrice","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{label:"operation"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteGoods(a.$index)}}},[t._v("Delete Permanently ")])]}}])})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.nowPage,"page-size":8,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}})],1)],1)},l=[],r={name:"IdleGoods",data:function(){return{mode:1,nowPage:1,total:0,onlineGoods:[],OfflineGoods:[],findValue:"",status:1}},created:function(){this.getOnlineGoods()},methods:{searchIdle:function(){var t=this;this.$api.queryIdle({findValue:this.findValue,page:this.nowPage,nums:8,status:this.status}).then((function(e){console.log(e),1==e.status_code&&null!=e.data.list?1==e.data.list[0].idleStatus?(t.onlineGoods=e.data.list,t.total=e.data.count):(t.OfflineGoods=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){this.nowPage=t,1==this.mode&&this.getOnlineGoods(),2==this.mode&&this.getOfflineGoods()},handleSelect:function(t){this.mode!==t&&(this.mode=t,1==t&&(this.nowPage=1,this.getOnlineGoods()),2==t&&(this.nowPage=1,this.getOfflineGoods()))},makeOfflineGoods:function(t){var e=this;this.$api.updateGoods({id:this.onlineGoods[t].id,status:2}).then((function(t){1==t.status_code?e.getOnlineGoods():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},deleteGoods:function(t){var e=this;this.$api.updateGoods({id:this.OfflineGoods[t].id,status:0}).then((function(t){1==t.status_code?e.getOfflineGoods():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},getOnlineGoods:function(){var t=this;this.$api.getGoods({status:1,page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.onlineGoods=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getOfflineGoods:function(){var t=this;this.$api.getGoods({status:2,page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.OfflineGoods=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))}}},c=r,d=(a("ca04"),a("2877")),u=Object(d["a"])(c,i,l,!1,null,"94e29362",null),m=u.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-border"},[e("span",{staticClass:"app-title"},[e("el-input",{attrs:{placeholder:"Order number..."},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchIdle.apply(null,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchIdle},slot:"append"})],1)],1),e("el-table",{staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.Order,stripe:""}},[e("el-table-column",{attrs:{prop:"orderNumber",label:"orderNumber","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{prop:"idleItem.idleName",label:"itemName","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"orderPrice",label:"orderPrice","show-overflow-tooltip":"","min-width":"100",width:"100"}}),e("el-table-column",{attrs:{prop:"createTime",label:"createTime","show-overflow-tooltip":"","min-width":"150",width:"200"}}),e("el-table-column",{attrs:{label:"orderStatus",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(t.orderStatus[a.row.orderStatus]))])]}}])}),e("el-table-column",{staticClass:"cell el-tooltip",attrs:{label:"paymentStatus",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(t.paymentStatus[a.row.paymentStatus]))])]}}])}),e("el-table-column",{attrs:{prop:"paymentWay",label:"paymentWay",width:"100","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"paymentTime",label:"paymentTime","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"operation"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteOrder(a.$index)}}},[t._v("Delete")])]}}])})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.nowPage,"page-size":8,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}})],1)],1)},p=[],f={name:"orderList",created:function(){this.getOrder()},methods:{getOrder:function(){var t=this;this.$api.getOrderList({page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.Order=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},deleteOrder:function(t){var e=this;this.$api.deleteOrder({id:this.Order[t].id}).then((function(t){1==t.status_code?e.getOrder():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){this.nowPage=t,this.getOrder()},searchIdle:function(){var t=this;this.$api.queryOrder({page:this.nowPage,nums:8,searchValue:this.searchValue}).then((function(e){console.log(e),1==e.status_code?(t.Order=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))}},data:function(){return{mode:1,nowPage:1,total:0,paymentStatus:["Unpaid","Paid"],orderStatus:["Unpaid","On hold","Complete","Cancelled"],Order:[],searchValue:""}}},g=f,w=(a("aaca"),Object(d["a"])(g,h,p,!1,null,"04eb5c8b",null)),v=w.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-border"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal"},on:{select:t.handleSelect}},[e("span",{directives:[{name:"show",rawName:"v-show",value:3!=this.mode,expression:"this.mode != 3"}],staticClass:"app-title"},[e("el-input",{attrs:{placeholder:"User account..."},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchIdle.apply(null,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchIdle},slot:"append"})],1)],1),e("el-menu-item",{attrs:{index:"1"}},[t._v("Active User")]),e("el-menu-item",{attrs:{index:"2"}},[t._v("Illegal User")]),e("el-menu-item",{attrs:{index:"3"}},[t._v("Admin")]),e("div",{directives:[{name:"show",rawName:"v-show",value:3==this.mode,expression:"this.mode == 3"}],staticClass:"addAdminButton"},[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){t.adminRegVisible=!0}}},[t._v("Add Admin")]),e("el-dialog",{attrs:{title:"Add Admin",visible:t.adminRegVisible,width:"25%"},on:{"update:visible":function(e){t.adminRegVisible=e}}},[e("span",{staticStyle:{"margin-left":"10px"}},[t._v("Full Name")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{maxlength:"8",placeholder:"Enter name",clearable:"",required:""},model:{value:t.adminName,callback:function(e){t.adminName=e},expression:"adminName"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("Username")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{minlength:"8",maxlength:"10",placeholder:"Enter username",clearable:"",required:""},model:{value:t.adminAccount,callback:function(e){t.adminAccount=e},expression:"adminAccount"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("Password")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{minlength:"8",placeholder:"Enter password","show-password":"",required:""},model:{value:t.adminPassword,callback:function(e){t.adminPassword=e},expression:"adminPassword"}}),e("span",{staticStyle:{"margin-left":"10px"}},[t._v("Confirm Password")]),e("el-input",{staticStyle:{padding:"10px 0"},attrs:{minlength:"10",placeholder:"Enter password again","show-password":"",required:""},model:{value:t.adminRePassword,callback:function(e){t.adminRePassword=e},expression:"adminRePassword"}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.regAdmin}},[t._v("Add")])],1)],1)],1)],1),e("el-table",{directives:[{name:"show",rawName:"v-show",value:1==this.mode,expression:"this.mode == 1"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.userData,stripe:""}},[e("el-table-column",{attrs:{label:"avatar",width:"50"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-avatar",{attrs:{shape:"square",size:23,src:t.row.avatar}})]}}])}),e("el-table-column",{attrs:{prop:"accountNumber",label:"accountNumber","show-overflow-tooltip":"","min-width":"150",width:"150"}}),e("el-table-column",{attrs:{prop:"nickname",label:"nickname","show-overflow-tooltip":"","min-width":"150",width:"150"}}),e("el-table-column",{attrs:{prop:"signInTime",label:"signInTime","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{label:"operation"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.sealUser(a.$index)}}},[t._v("Suspend")])]}}])})],1),e("el-table",{directives:[{name:"show",rawName:"v-show",value:2==this.mode,expression:"this.mode == 2"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.badUserData,stripe:""}},[e("el-table-column",{attrs:{label:"avatar",width:"50"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-avatar",{attrs:{shape:"square",size:23,src:t.row.avatar}})]}}])}),e("el-table-column",{attrs:{prop:"accountNumber",label:"accountNumber","show-overflow-tooltip":"","min-width":"150",width:"150"}}),e("el-table-column",{attrs:{prop:"nickname",label:"nickname","show-overflow-tooltip":"",width:"150"}}),e("el-table-column",{attrs:{prop:"signInTime",label:"signInTime","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{label:"operation"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.unsealUser(a.$index)}}},[t._v("Unsuspend")])]}}])})],1),e("el-table",{directives:[{name:"show",rawName:"v-show",value:3==this.mode,expression:"this.mode == 3"}],staticStyle:{width:"100%",color:"#5a5c61"},attrs:{data:t.userManage,stripe:""}},[e("el-table-column",{attrs:{prop:"accountNumber",label:"accountNumber","show-overflow-tooltip":"",width:"200"}}),e("el-table-column",{attrs:{prop:"adminName",label:"adminName"}})],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.nowPage,"page-size":7,background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}})],1)],1)},_=[],y={name:"userList",created:function(){this.getUserData()},methods:{handleCurrentChange:function(t){this.nowPage=t,1==this.mode&&this.getUserData(),2==this.mode&&this.getBadUserData(),3==this.mode&&this.getUserManage()},handleSelect:function(t){this.mode!==t&&(this.mode=t,1==t&&(this.nowPage=1,this.getUserData()),2==t&&(this.nowPage=1,this.getBadUserData()),3==t&&(this.nowPage=1,this.getUserManage()))},getUserData:function(){var t=this;this.$api.getUserData({page:this.nowPage,nums:8,status:0}).then((function(e){1==e.status_code?(t.userData=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getBadUserData:function(){var t=this;this.$api.getUserData({page:this.nowPage,nums:8,status:1}).then((function(e){1==e.status_code?(t.badUserData=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},getUserManage:function(){var t=this;this.$api.getUserManage({page:this.nowPage,nums:8}).then((function(e){1==e.status_code?(t.userManage=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},sealUser:function(t){var e=this;console.log(this.userData[t].id),this.$api.updateUserStatus({id:this.userData[t].id,status:1}).then((function(t){1==t.status_code?e.getUserData():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},unsealUser:function(t){var e=this;this.$api.updateUserStatus({id:this.badUserData[t].id,status:0}).then((function(t){1==t.status_code?e.getBadUserData():e.$message.error(t.msg)})).catch((function(t){console.log(t)}))},regAdmin:function(){var t=this;this.adminPassword==this.adminRePassword?(this.$api.regAdministrator({adminName:this.adminName,accountNumber:this.adminAccount,adminPassword:this.adminPassword}).then((function(e){1==e.status_code?(t.total=t.total+1,t.nowPage=Math.ceil(t.total/8),console.log(t.nowPage),t.getUserManage()):t.$message.error(e.msg)})).catch((function(e){console.log(e),t.$message.error("Failed to add, duplicate account or network error.")})),this.adminRegVisible=!1):this.$message.error("The passwords entered do not match!")},searchIdle:function(){var t=this;this.$api.queryUser({searchValue:this.searchValue,mode:this.mode,page:this.nowPage,nums:8}).then((function(e){1==e.status_code?1==t.mode?(t.userData=e.data.list,t.total=e.data.count):2==t.mode?(t.badUserData=e.data.list,t.total=e.data.count):(t.userManage=e.data.list,t.total=e.data.count):t.$message.error(e.msg)})).catch((function(t){console.log(t)}))}},data:function(){return{mode:1,nowPage:1,total:63,adminRegVisible:!1,adminAccount:"",adminPassword:"",adminRePassword:"",adminName:"",userData:[],badUserData:[],userManage:[],searchValue:""}}},k=y,P=(a("de6f"),Object(d["a"])(k,b,_,!1,null,"7669b362",null)),x=P.exports,O={name:"platform-admin",components:{AppFoot:s["a"],IdleGoods:m,orderList:v,userList:x},data:function(){return{mode:1,admin:{nickname:"Admin"}}},created:function(){this.admin.nickname=this.$sta.adminName},methods:{logout:function(){var t=this;this.$api.loginOut({}).then((function(e){1===e.status_code&&(t.$sta.isLogin=!1,t.$sta.adminName="",t.$router.push({path:"/login-admin"}))})).catch((function(t){console.log(t)}))},handleSelect:function(t){this.mode!==t&&(this.mode=t)},searchIdle:function(){1===this.mode?this.$api.adminQueryOrder({page:page,nums:8,searchValue:this.searchValue}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})):this.mode}}},C=O,S=(a("3082"),Object(d["a"])(C,n,o,!1,null,"389a639f",null));e["default"]=S.exports},"20e0":function(t,e,a){},3082:function(t,e,a){"use strict";a("3198")},3198:function(t,e,a){},"5ee6":function(t,e,a){},"60f8":function(t,e,a){},"71c17":function(t,e,a){},"85a9":function(t,e,a){"use strict";var n=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"foot-container"},[e("div",{staticClass:"author"},[t._v("Campus Exchange")])])}],s={name:"Foot"},i=s,l=(a("e97d"),a("2877")),r=Object(l["a"])(i,n,o,!1,null,"c9fd9caa",null);e["a"]=r.exports},aaca:function(t,e,a){"use strict";a("20e0")},ca04:function(t,e,a){"use strict";a("60f8")},de6f:function(t,e,a){"use strict";a("5ee6")},e97d:function(t,e,a){"use strict";a("71c17")}}]);