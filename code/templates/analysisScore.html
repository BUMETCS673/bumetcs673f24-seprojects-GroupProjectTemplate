{% extends 'base.html' %}
{% load static %}
{% block content %}

    <div class="container">

        <br><br><br>
        <div class="row">

            <div class="col-xs-14">

                <div id="chart_1" style="width: 100%;height:700px;"></div>

            </div>

        </div>

    </div> <!-- /container -->
    <div class="container">

        <br><br><br>
        <div class="row">

            <div class="col-xs-14">

                <div id="chart_2" style="width: 100%;height:700px;"></div>

            </div>

        </div>

    </div> <!-- /container -->
    <div class="container">

        <br><br><br>
        <div class="row">

            <div class="col-xs-14">

                <div id="chart_3" style="width: 100%;height:500px;"></div>

            </div>

        </div>

    </div> <!-- /container -->

    <div class="container">

        <br><br><br>
        <div class="row">

            <div class="col-xs-14">

                <div id="chart_4" style="width:100%; height:500px"></div>

            </div>

        </div>

    </div> <!-- /container -->
    <script src="{% static 'js/echarts.min.js' %}" type="text/javascript" charset="utf-8"></script>
    <script src="{% static 'js/echarts.js' %}"></script>
    <script src="{% static 'js/world_fix.js' %}" type="text/javascript" charset="utf-8"></script>


    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        console.log(name);
        var myChart1 = echarts.init(document.getElementById('chart_1'));
        // 指定图表的配置项和数据
        var option1 = {
            title: {
                text: 'Movie Rating Frequency',
                left: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b}: {c} ({d}%)'
            },
            legend: {
                top: 30,
                data:{{ x1|safe }}
            },
            series: [
                {
                    top: 90,
                    name: 'Movie Rating Frequency',
                    type: 'pie',
                    selectedMode: 'single',
                    radius: [0, '30%'],
                    label: {
                        position: 'inner',
                        fontSize: 14
                    },
                    labelLine: {
                        show: false
                    },
                    data: [
                        {'value': 5, 'name': 9.0}, {'value': 1, 'name': 9.2}, {'value': 1, 'name': 9.3}
                    ]
                },
                {
                    top: 90,
                    name: 'Movie Rating Frequency',
                    type: 'pie',
                    radius: ['45%', '60%'],
                    labelLine: {
                        length: 30
                    },
                    label: {
                        formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
                        backgroundColor: '#F6F8FC',
                        borderColor: '#8C8D8E',
                        borderWidth: 1,
                        borderRadius: 4,
                        rich: {
                            a: {
                                color: '#6E7079',
                                lineHeight: 22,
                                align: 'center'
                            },
                            hr: {
                                borderColor: '#8C8D8E',
                                width: '100%',
                                borderWidth: 1,
                                height: 0
                            },
                            b: {
                                color: '#4C5058',
                                fontSize: 14,
                                fontWeight: 'bold',
                                lineHeight: 33
                            },
                            per: {
                                color: '#fff',
                                backgroundColor: '#4C5058',
                                padding: [3, 4],
                                borderRadius: 4
                            }
                        }
                    },
                    data: {{ list_joson1|safe }}
                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart1.setOption(option1);

        var myChart2 = echarts.init(document.getElementById('chart_2'));
        // 指定图表的配置项和数据
        var option2 = {
            title: {
                text: 'Average box office of movies with different ratings',

            },
            legend: {
                data: ['Gross worldwide',]
            },
            radar: {
                // shape: 'circle',
                indicator: {{ list_joson2|safe }}
            },
            series: [
                {
                    name: 'Gross worldwide',
                    type: 'radar',
                    data: [
                        {
                            value: {{ y2|safe }},
                            name: 'Gross worldwide'
                        }
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart2.setOption(option2);

        var myChart3 = echarts.init(document.getElementById('chart_3'));
        // 指定图表的配置项和数据
        var option3 =
            {
                title: {
                    text: 'Ratings and Awards'
                },
                tooltip: {
                    trigger: "axis",
                    axisPointer: {
                        type: "shadow"
                    }
                },
                xAxis: {
                    data:{{ x4|safe }},

                    axisTick: {
                        alignWithLabel: true


                    }
                },

                yAxis: {},
                series: [
                    {
                        name: 'Total number of awards',
                        type: 'line',
                        data: {{ y4|safe }}

                    }
                ]
            };


        // 使用刚指定的配置项和数据显示图表。
        myChart3.setOption(option3);

        var myChart4 = echarts.init(document.getElementById('chart_4'));
        // 指定图表的配置项和数据
        var option4 = {
            title: {
                text: 'Top 20 companies producing movies'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {},
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value',
                boundaryGap: [0, 0.01]
            },
            yAxis: {
                type: 'category',
                data: {{ x3|safe }}
            },
            series: [
                {
                    name: 'count',
                    type: 'bar',
                    data: {{ y3|safe }}
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart4.setOption(option4);

    </script>

{% endblock %}